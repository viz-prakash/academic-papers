Summary of [Watching You Watch: The Tracking Ecosystem of Over-the-Top TV Streaming
Devices](./Watching%20You%20Watch:%20The%20Tracking%20Ecosystem%20of%20Over-the-Top%20TV%20Streaming%20Devices.pdf)

In this paper, Moghaddam et al. study the privacy practices of two most popular Over-the-Top ("OTT") devices of that time -- Roku TV and Amazon Fire stick. 

They built novel crawler to crawl the channels in various different ways on these devices, like top 1K channels, top categories, top channels in each category. They built a system to automate the interaction with the OTT channels and intercepted the network activities. The crawler interacts with the OTT devices using their remote control APIs. Roku and Amazon Fire TV expose their remote control functionality via web APIs and adb respectively, both of which can receive keystroke commands to interact with the device. For example, “adb shell input keyevent 21” sends the “left” key to Amazon Fire TV devices, and an HTTP GET request to “http://ROKU_ DEVICE_IP_ADDRESS:8060/keydown/left ” does the same for all Roku devices. They used the HDMI split capture card for tapping the video stream going to the TV in order to process it on the desktop machine, and used TV's audio output as a input to the desktop audio for processing. They used heuristics to play videos on the channels they crawled by recording the sequence of actions took them to play video on randomly selected 100 channels, which wasn't effective for all the channels.

Crawler collected entire network level data in PCAP from the time of launching each channel to the time it is uninstalled. For each channel, the PCAP dump contains information about all DNS queries, HTTP requests, and TLS connections made during the crawl. For Fire stick, they used mitmproxy to decrypt the TLS connection by installing the self-signed certificate on Fire stick. For each channel, the crawler dumps all the TLS session keys for each intercepted session into a file, which can be used by Wireshark/tshark3 to decrypt sessions. Roku did't allow this technique so they relied on channels which didn't verify the certificates properly. On Roku they used a self-signed certificate generated by mitmproxy with a common name matching the original certificate’s common name. 

Authors found collection of persistent identifiers (such as WiFi MAC addresses and SSIDs) for tracking, at times over unencrypted connections. Google and Amazon tracker were prevalent among most channels. They also discovered new trackers that were contacted with unique identifiers after removing the default platforms domains like roku.com and amazon.com, and the list of trackers present in different known adblocking lists. They also found that channels leak the user's watched video titles to trackers. 

They observed, enabling the feautre "Limit Ad Tracking on Roku" reduced the number of AD ID leaks from 390 to zero, but did not affect the number of trackers contacted by the channels. After enabling the "Disable Interest based Ads" on Amazon Fire TV, they found that the number of requests to amazon-adsystem.com decreased from 65 to just 10 channels, meaning Amazon seemingly reduced access to its own advertising system and trackers collecting the AD ID reduced by nearly half, however other identifiers communicated to trackers, remained largely the same.

They also discovered unecrypted communication on HTTP port 80, most to the domain owned by Google and Amazon. 

They analyzed the local remote control APIs of the OTT devices, and found a vulnerability that allows a malicious web script to extract a Roku user’s location, retrieve installed channels, install new channels and access device identifiers. They discovered that Roku sends “*” in the “Access-Control-Allow- Origin:” header. The “*” value relaxed the cross-origin restrictions in the browser and allowed scripts from an arbitrary domains to read cross-origin resources without being limited by the Same Origin Policy. To perform this attack, they ran a malicious script (e.g. by running ads) on websites visited by a user browsing from the same network that the OTT device is connected to. 

Authors made following recommendations in this paper:
- OTT platforms should offer better privacy controls, similar to Incognito/Private Browsing Mode of modern web browsers.
- Platforms should make it possible to monitor the content of the network traffic, similar to browsers and operating systems allowing intercepting one’s own traffic by installing a self-signed certificate in the browser, convinient for advanced users.
- They suggested that regulators and policy makes should update the policy for video rental services to include OTT where tracking is prevalent.
- OTT platforms should introduce policies to disincentivize insecure connections.

Limitations in their work include, crawler not being able to login on all the channels, analysing background traffic when there was no actual channel activity, and the study was only limited to two OTT platforms, leaving out the smart TV platforms such as Samsung, Vizio and Apple TV. 

My suggestion: try to jailbreak the Roku to extract the firmware to install a rook certificate to see if they could include more channels in their study.
Question: if channels and platforms asked users to give consent to send the tracking information? If so, from policy perspecticve, what would be ideal way to deal with this kind of consensual tracking?
